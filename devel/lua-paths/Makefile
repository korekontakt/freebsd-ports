# $FreeBSD$

PORTNAME=	paths
PORTVERSION=	0.20150828
CATEGORIES=	devel
PKGNAMEPREFIX=	${LUA_PKGNAMEPREFIX}

MAINTAINER=	jbeich@FreeBSD.org
COMMENT=	Paths manipulations

LICENSE=	BSD3CLAUSE
LICENSE_FILE=	${WRKSRC}/COPYRIGHT.txt

USE_GITHUB=	yes
GH_ACCOUNT=	torch
GH_TAGNAME=	5700640

USES=		cmake lua uniquefiles:dirs
CMAKE_ARGS=	-DLUA_INCDIR="${LUA_INCDIR}" \
		-DLUA_LIBDIR="${LUA_LIBDIR}" \
		-DLUADIR="${LUA_MODSHAREDIR}" \
		-DLIBDIR="${LUA_MODLIBDIR}"
PLIST_FILES=	%%LUA_MODSHAREDIR%%/${PORTNAME}/init.lua \
		%%LUA_MODLIBDIR%%/lib${PORTNAME}.so
PORTDOCS=	*

OPTIONS_DEFINE=	DOCS

post-install:
	(cd ${WRKSRC}/doc && ${COPYTREE_SHARE} \
		"${PORTDOCS}" ${STAGEDIR}${DOCSDIR})

.include <bsd.port.mk>
